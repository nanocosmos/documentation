"use strict";(self.webpackChunknanocosomos_documentation=self.webpackChunknanocosomos_documentation||[]).push([[7266],{15680:(e,n,l)=>{l.d(n,{xA:()=>p,yg:()=>s});var t=l(96540);function i(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function a(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),l.push.apply(l,t)}return l}function r(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?a(Object(l),!0).forEach((function(n){i(e,n,l[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):a(Object(l)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(l,n))}))}return e}function o(e,n){if(null==e)return{};var l,t,i=function(e,n){if(null==e)return{};var l,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)l=a[t],n.indexOf(l)>=0||(i[l]=e[l]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)l=a[t],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var g=t.createContext({}),u=function(e){var n=t.useContext(g),l=n;return e&&(l="function"==typeof e?e(n):r(r({},n),e)),l},p=function(e){var n=u(e.components);return t.createElement(g.Provider,{value:n},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},y=t.forwardRef((function(e,n){var l=e.components,i=e.mdxType,a=e.originalType,g=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=u(l),y=i,s=d["".concat(g,".").concat(y)]||d[y]||m[y]||a;return l?t.createElement(s,r(r({ref:n},p),{},{components:l})):t.createElement(s,r({ref:n},p))}));function s(e,n){var l=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=l.length,r=new Array(a);r[0]=y;var o={};for(var g in n)hasOwnProperty.call(n,g)&&(o[g]=n[g]);o.originalType=e,o[d]="string"==typeof e?e:i,r[1]=o;for(var u=2;u<a;u++)r[u]=l[u];return t.createElement.apply(null,r)}return t.createElement.apply(null,l)}y.displayName="MDXCreateElement"},32285:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>g,contentTitle:()=>r,default:()=>m,frontMatter:()=>a,metadata:()=>o,toc:()=>u});var t=l(58168),i=(l(96540),l(15680));const a={},r=void 0,o={unversionedId:"nanostream/directshow/directshow_mpeg2_video_decoder",id:"nanostream/directshow/directshow_mpeg2_video_decoder",title:"directshow_mpeg2_video_decoder",description:"nanocosmos MPEG-2 HD/SD Video Decoder Filter",source:"@site/docs/nanostream/directshow/directshow_mpeg2_video_decoder.md",sourceDirName:"nanostream/directshow",slug:"/nanostream/directshow/directshow_mpeg2_video_decoder",permalink:"/docs/nanostream/directshow/directshow_mpeg2_video_decoder",draft:!1,tags:[],version:"current",lastUpdatedAt:1718107861,formattedLastUpdatedAt:"Jun 11, 2024",frontMatter:{}},g={},u=[{value:"nanocosmos MPEG-2 HD/SD Video Decoder Filter",id:"nanocosmos-mpeg-2-hdsd-video-decoder-filter",level:2},{value:"DirectShow Filter / Module",id:"directshow-filter--module",level:3},{value:"Connectivity",id:"connectivity",level:3},{value:"Filter GUIDs",id:"filter-guids",level:3},{value:"Setting the license to unlock filter",id:"setting-the-license-to-unlock-filter",level:3},{value:"Decoder Configuration Registry Settings",id:"decoder-configuration-registry-settings",level:3},{value:"Frame dropping / skipping mode",id:"frame-dropping--skipping-mode",level:4},{value:"Output color space selection",id:"output-color-space-selection",level:4},{value:"Deinterlacing Mode",id:"deinterlacing-mode",level:4},{value:"DirectShow Editing Services (DES) Return Mode",id:"directshow-editing-services-des-return-mode",level:4},{value:"Threading Mode",id:"threading-mode",level:4},{value:"Output resolution alignment",id:"output-resolution-alignment",level:4},{value:"Debug-Log Configuration Registry Settings",id:"debug-log-configuration-registry-settings",level:3},{value:"File name",id:"file-name",level:4},{value:"Logging level",id:"logging-level",level:3}],p={toc:u},d="wrapper";function m(e){let{components:n,...l}=e;return(0,i.yg)(d,(0,t.A)({},p,l,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("h2",{id:"nanocosmos-mpeg-2-hdsd-video-decoder-filter"},"nanocosmos MPEG-2 HD/SD Video Decoder Filter"),(0,i.yg)("h3",{id:"directshow-filter--module"},"DirectShow Filter / Module"),(0,i.yg)("p",null,"nanocosmos MPEG-2 HD/SD Video Decoder","\\","\nModule Name: ",(0,i.yg)("inlineCode",{parentName:"p"},"nmpeg2dec.ax")),(0,i.yg)("h3",{id:"connectivity"},"Connectivity"),(0,i.yg)("p",null,"The input is accepting connections to splitter filters or combined source/splitter filters matching the following media types:"),(0,i.yg)("p",null,"Major types:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"MEDIATYPE_Video")),(0,i.yg)("p",null,"Subtypes:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"MEDIASUBTYPE_MPEG2")),(0,i.yg)("p",null,"Formats:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"FORMAT_VideoInfo,"),(0,i.yg)("li",{parentName:"ul"},"FORMAT_VideoInfo2,"),(0,i.yg)("li",{parentName:"ul"},"FORMAT_MPEG2_VIDEO")),(0,i.yg)("p",null,"The output supports these media types:"),(0,i.yg)("p",null,"Major types:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"MEDIATYPE_Video")),(0,i.yg)("p",null,"Subtypes:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"MEDIASUBTYPE_YV12,"),(0,i.yg)("li",{parentName:"ul"},"MEDIASUBTYPE_I420,"),(0,i.yg)("li",{parentName:"ul"},"MEDIASUBTYPE_IYUV,"),(0,i.yg)("li",{parentName:"ul"},"MEDIASUBTYPE_YUY2,"),(0,i.yg)("li",{parentName:"ul"},"MEDIASUBTYPE_RGB24,"),(0,i.yg)("li",{parentName:"ul"},"MEDIASUBTYPE_RGB32,"),(0,i.yg)("li",{parentName:"ul"},"MEDIASUBTYPE_ARGB32,"),(0,i.yg)("li",{parentName:"ul"},"MEDIASUBTYPE_RGB565,")),(0,i.yg)("p",null,"Formats:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"FORMAT_VideoInfo"),(0,i.yg)("li",{parentName:"ul"},"FORMAT_VideoInfo2")),(0,i.yg)("h3",{id:"filter-guids"},"Filter GUIDs"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-cpp"},"// Filter GUID\n// {223784F1-4D9F-45a5-8281-8F9AFCABD904}\nDEFINE_GUID(CLSID_NANO_MPEG2_DECODER, 0x223784f1, 0x4d9f, 0x45a5, 0x82, 0x81, 0x8f, 0x9a, 0xfc, 0xab, 0xd9, 0x4);\n\n// Configuration interface ICodecProp\n// {0F817204-82C8-4c12-884A-F45FB2F33A6E}\nDEFINE_GUID(IID_ICodecProp, 0xf817204, 0x82c8, 0x4c12, 0x88, 0x4a, 0xf4, 0x5f, 0xb2, 0xf3, 0x3a, 0x6e);\n\n// ICodecProp: IID_nanoPeg_LicenseString\n// type: BSTR / Unicode string\n// Set license string to unlock filter\n// {1788F0B0-5985-4a19-B7FE-8AAC1BFC14B3}\nDEFINE_GUID(IID_nanoPeg_LicenseString, 0x1788f0b0, 0x5985, 0x4a19, 0xb7, 0xfe, 0x8a, 0xac, 0x1b, 0xfc, 0x14, 0xb3);\n")),(0,i.yg)("h3",{id:"setting-the-license-to-unlock-filter"},"Setting the license to unlock filter"),(0,i.yg)("p",null,"The filter can be unlocked either through a license key entry in the windows registry or\nby setting the license key through COM interface ICodecProp::SetProperty with the\nproperty ",(0,i.yg)("strong",{parentName:"p"},"IID_nanoPeg_LicenseString")," as first parameter. The second license parameter\nhas to be a wide/unicode string!"),(0,i.yg)("h3",{id:"decoder-configuration-registry-settings"},"Decoder Configuration Registry Settings"),(0,i.yg)("p",null,"Key: "),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"HKEY_CURRENT_USER\\Software\\nanocosmos\\nmpeg2dec\n")),(0,i.yg)("h4",{id:"frame-dropping--skipping-mode"},"Frame dropping / skipping mode"),(0,i.yg)("p",null,"Determines the behaviour in the case of timing / performance problems."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Value name: \tDroppingMode"),(0,i.yg)("li",{parentName:"ul"},"Value type: \tREG_DWORD"),(0,i.yg)("li",{parentName:"ul"},"Valid values:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"0")," - ",(0,i.yg)("inlineCode",{parentName:"li"},"disabled")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"1")," - ",(0,i.yg)("inlineCode",{parentName:"li"},"enabled"),", ",(0,i.yg)("inlineCode",{parentName:"li"},"__default value__"))))),(0,i.yg)("h4",{id:"output-color-space-selection"},"Output color space selection"),(0,i.yg)("p",null,"Forces the filter to use a desired output color format. If no or no valid value is set, the output color format will be negotiated with the downstream renderer filter (usually YV12)."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Value name: \tForceOutputFourCC"),(0,i.yg)("li",{parentName:"ul"},"Value type: \t        ",(0,i.yg)("inlineCode",{parentName:"li"},"REG_SZ / String")),(0,i.yg)("li",{parentName:"ul"},"Valid values:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"YV12"),","),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"I420"),","),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"IYUV"),","),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"YUY2"),","),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"RGB32"),","),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"RGB24"),","),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"RGB565"),","),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"ARGB32"))))),(0,i.yg)("h4",{id:"deinterlacing-mode"},"Deinterlacing Mode"),(0,i.yg)("p",null,"Determines the deinterlacing behaviour."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Value name: DeinterlacingMode"),(0,i.yg)("li",{parentName:"ul"},"Value type:   REG_DWORD"),(0,i.yg)("li",{parentName:"ul"},"Valid values:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"0")," - disabled"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"1")," - duplicate, ",(0,i.yg)("strong",{parentName:"li"},"default value")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"2")," - blend"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"3")," - median"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"4")," - edge detection"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"5")," - median threshold"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"6")," - content adaptive vertical temporal")))),(0,i.yg)("h4",{id:"directshow-editing-services-des-return-mode"},"DirectShow Editing Services (DES) Return Mode"),(0,i.yg)("p",null,"Receive returns HRESULT error values if Deliver fails.\nNeeds to be enabled for DES."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Value name: ",(0,i.yg)("inlineCode",{parentName:"li"},"DESReturnMode")),(0,i.yg)("li",{parentName:"ul"},"Value type: ",(0,i.yg)("inlineCode",{parentName:"li"},"REG_DWORD")),(0,i.yg)("li",{parentName:"ul"},"Valid values:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"0")," - disabled, ",(0,i.yg)("strong",{parentName:"li"},"default value")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"1")," - enabled")))),(0,i.yg)("h4",{id:"threading-mode"},"Threading Mode"),(0,i.yg)("p",null,"Determines the threading behaviour.\nAuto detection or number of decoding threads."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Value name: ",(0,i.yg)("inlineCode",{parentName:"li"},"DESReturnMode")),(0,i.yg)("li",{parentName:"ul"},"Value type: ",(0,i.yg)("inlineCode",{parentName:"li"},"REG_DWORD")),(0,i.yg)("li",{parentName:"ul"},"Valid values:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"0")," - auto detect number of cpus, ",(0,i.yg)("strong",{parentName:"li"},"default value")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"1-8")," - set number of decoding threads")))),(0,i.yg)("h4",{id:"output-resolution-alignment"},"Output resolution alignment"),(0,i.yg)("p",null,"Determines the alignment of the output resolution,\nto adjust it to multiples of this value."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Value name: ",(0,i.yg)("inlineCode",{parentName:"li"},"OutputAlignment")),(0,i.yg)("li",{parentName:"ul"},"Value type: ",(0,i.yg)("inlineCode",{parentName:"li"},"REG_DWORD")),(0,i.yg)("li",{parentName:"ul"},"Valid values:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"1-16"),", ",(0,i.yg)("strong",{parentName:"li"},"default value:")," 4")))),(0,i.yg)("h3",{id:"debug-log-configuration-registry-settings"},"Debug-Log Configuration Registry Settings"),(0,i.yg)("p",null,"Key: "),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"HKEY_CURRENT_USER\\Software\\DebugNano\\nmpeg2dec.ax\n")),(0,i.yg)("h4",{id:"file-name"},"File name"),(0,i.yg)("p",null,"Sets the output file name. The folder must already exist."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Value name: \t",(0,i.yg)("inlineCode",{parentName:"li"},"LogToFile")),(0,i.yg)("li",{parentName:"ul"},"Value type: \t        ",(0,i.yg)("inlineCode",{parentName:"li"},"REG_SZ")," / ",(0,i.yg)("inlineCode",{parentName:"li"},"String")),(0,i.yg)("li",{parentName:"ul"},"Valid values:\ta valid output file name to enable file logging or an empty string")),(0,i.yg)("h3",{id:"logging-level"},"Logging level"),(0,i.yg)("p",null,"A higher value increases the amount of logging messages sent, and messages get more detailed."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Value name: \t",(0,i.yg)("inlineCode",{parentName:"li"},"TRACE")),(0,i.yg)("li",{parentName:"ul"},"Value type: \t        ",(0,i.yg)("inlineCode",{parentName:"li"},"REG_DWORD")),(0,i.yg)("li",{parentName:"ul"},"Valid values:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"0")," - minimal logging"),(0,i.yg)("li",{parentName:"ul"},"\u2026"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"9")," - maximal logging")))))}m.isMDXComponent=!0}}]);