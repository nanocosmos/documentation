"use strict";(self.webpackChunknanocosomos_documentation=self.webpackChunknanocosomos_documentation||[]).push([[7770],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>g});var o=n(96540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),m=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=m(e.components);return o.createElement(l.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=m(n),d=a,g=u["".concat(l,".").concat(d)]||u[d]||c[d]||r;return n?o.createElement(g,s(s({ref:t},p),{},{components:n})):o.createElement(g,s({ref:t},p))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,s=new Array(r);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[u]="string"==typeof e?e:a,s[1]=i;for(var m=2;m<r;m++)s[m]=n[m];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},56039:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>m});var o=n(58168),a=(n(96540),n(15680));const r={id:"network-diagnostics",title:"Network Diagnostics",sidebar_label:"Network Diagnostics"},s=void 0,i={unversionedId:"cloud/network-diagnostics",id:"cloud/network-diagnostics",title:"Network Diagnostics",description:"In this section, we'll review some basic commands that will help you assess and diagnose network problems.",source:"@site/docs/cloud/network-diagnostics.md",sourceDirName:"cloud",slug:"/cloud/network-diagnostics",permalink:"/docs/cloud/network-diagnostics",draft:!1,tags:[],version:"current",lastUpdatedAt:1726579045,formattedLastUpdatedAt:"Sep 17, 2024",frontMatter:{id:"network-diagnostics",title:"Network Diagnostics",sidebar_label:"Network Diagnostics"},sidebar:"nanoStream Cloud",previous:{title:"Bintu Stream Tags",permalink:"/docs/cloud/bintu_stream_tags"},next:{title:"Support",permalink:"/docs/cloud/support"}},l={},m=[{value:"TL;DR",id:"tldr",level:2},{value:"IP Addresses",id:"ip-addresses",level:2},{value:"The ping Command",id:"the-ping-command",level:2},{value:"The traceroute Command",id:"the-traceroute-command",level:2},{value:"The mtr Command",id:"the-mtr-command",level:2},{value:"The dig command",id:"the-dig-command",level:2},{value:"Sharing results",id:"sharing-results",level:2}],p={toc:m},u="wrapper";function c(e){let{components:t,...n}=e;return(0,a.yg)(u,(0,o.A)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("p",null,"In this section, we'll review some basic commands that will help you assess and diagnose network problems.\nIf you suspect connectivity issues, adding the output from the relevant commands to your ",(0,a.yg)("a",{parentName:"p",href:"support"},"support ticket")," can help our staff diagnose your issue. This is particularly helpful in cases where networking issues are intermittent."),(0,a.yg)("h2",{id:"tldr"},"TL;DR"),(0,a.yg)("p",null,"First try ping to our hosts.\nIf you need support for network issues, The best way we can help is when you would send us the result ot the traceroute / mtr report as described below, which is helpful information about your local network connectivity. Basically these commands measure the time it takes to send internet packets from your device."),(0,a.yg)("p",null,"Please send us the results of the following commands"),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},'"mtr -r bintu-stream.nanocosmos.de"')),(0,a.yg)("p",null,"and"),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},'"mtr -r bintu-play.nanocosmos.de"')),(0,a.yg)("p",null,(0,a.yg)("em",{parentName:"p"},"or")),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},'"ping bintu-stream.nanocosmos.de"')),(0,a.yg)("p",null,"and"),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},'"ping bintu-play.nanocosmos.de"')),(0,a.yg)("p",null,"You can also directly connect to specific geo locations, see our ",(0,a.yg)("a",{parentName:"p",href:"support"},"support document"),"."),(0,a.yg)("p",null,"Adding ",(0,a.yg)("inlineCode",{parentName:"p"},"ping"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"mtr")," or ",(0,a.yg)("inlineCode",{parentName:"p"},"traceroute")," output to ",(0,a.yg)("a",{parentName:"p",href:"support"},"support")," tickets is sometimes useful when trying to diagnose network issues. You may also want to forward ",(0,a.yg)("inlineCode",{parentName:"p"},"traceroute")," information to your Internet Service Provider (ISP) if you suspect that the connectivity issue is with your ISP's network. Recording ",(0,a.yg)("inlineCode",{parentName:"p"},"traceroute")," information is particularly useful if you are experiencing an intermittent issue."),(0,a.yg)("h2",{id:"ip-addresses"},"IP Addresses"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"What is your public IP address?\nYou can use ",(0,a.yg)("a",{parentName:"p",href:"http://whatismyip.akamai.com/"},"http://whatismyip.akamai.com/")," to find out, if you're unsure.")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"Who is the ISP?"))),(0,a.yg)("h2",{id:"the-ping-command"},"The ping Command"),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"ping")," command tests the connection between the local machine and a remote address or machine.\nThe ping program is installed by default on just about every operating system, Linux, MacOS, and Windows, so you do not need to install it.\nIt runs from the command line."),(0,a.yg)("p",null,'The following commands "ping" ',(0,a.yg)("inlineCode",{parentName:"p"},"google.com")," :"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"ping google.com\n")),(0,a.yg)("p",null,"Instead google.com you should use any of the nanocosmos host names like mentioned above."),(0,a.yg)("p",null,'These commands send a small amount of data (an ICMP packet) to the remote host and wait for a response. If the system is able to make a connection, it will report on the "round trip time" for every packet. ',(0,a.yg)("br",null),"\nHere is the sample output of four pings to google.com:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"PING google.com (216.58.217.110): 56 data bytes\n64 bytes from 216.58.217.110: icmp_seq=0 ttl=54 time=14.8 ms\n64 bytes from 216.58.217.110: icmp_seq=1 ttl=54 time=16.6 ms\n64 bytes from 216.58.217.110: icmp_seq=2 ttl=54 time=16.5 ms\n")),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"time")," field specifies in milliseconds the duration of the round trip for an individual packet. You can use ",(0,a.yg)("strong",{parentName:"p"},"Control+C")," to interrupt the process. You'll be presented with some statistics once the process is stopped. This will resemble:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"--- google.com ping statistics ---\n4 packets transmitted, 4 received, 0% packet loss, time 3007ms\nrtt min/avg/max/mdev = 33.890/40.175/53.280/7.679 ms\n")),(0,a.yg)("p",null,"There are several important data points to notice:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("em",{parentName:"li"},"Packet Loss"),", or the discrepancy between the number of packets sent and the number of packets that return successfully. This number shows the percentage of packets that are dropped."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("em",{parentName:"li"},"Round Trip Time")," (rtt) statistics on the final line report information about all the ping responses. For this ping we see that the fastest packet round trip (min) took 16.5 milliseconds. The average round trip (avg) took 40.175 milliseconds. The longest packet (max) took 53.28 milliseconds. A single standard deviation unit (mdev) for these four packets is 7.67 milliseconds.")),(0,a.yg)("p",null,"The ping command is useful as an informal diagnostic tool to measure point-to-point network latency, and as a tool to simply ensure you are able to make a connection to a remote server."),(0,a.yg)("h2",{id:"the-traceroute-command"},"The traceroute Command"),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"traceroute")," command expands on the functionality of the ",(0,a.yg)("a",{parentName:"p",href:"#the-ping-command"},"ping")," command.\nIt is also part of every operating system, Linux, MacOS, and Windows (where it is called tracert)."),(0,a.yg)("p",null,"It provides a report on the path that the packets take to get from the local machine to the remote machine. Each step (intermediate server) in the path is called a ",(0,a.yg)("em",{parentName:"p"},"hop"),". This information is useful when troubleshooting a networking issue: if there is packet loss in one of the first few hops the problem is often related to the user's local area network (LAN) or Internet service provider (ISP). By contrast, if there is packet loss near the end of the route, the problem may be caused by an issue with the server's connection."),(0,a.yg)("p",null,"Here is an example of output from a ",(0,a.yg)("inlineCode",{parentName:"p"},"traceroute")," command:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"traceroute to google.com (74.125.53.100), 30 hops max, 40 byte packets\n1 207.192.75.2 (207.192.75.2) 0.414 ms 0.428 ms 0.509 ms\n2 vlan804.tbr2.mmu.nac.net (209.123.10.13) 0.287 ms 0.324 ms 0.397 ms\n3 0.e1-1.tbr2.tl9.nac.net (209.123.10.78) 1.331 ms 1.402 ms 1.477 ms\n4 209.85.250.144 (209.85.250.144) 86.025 ms 86.151 ms 86.136 ms\n5 64.233.174.131 (64.233.174.131) 80.877 ms 216.239.48.34 (216.239.48.34) 76.212 ms 64.233.174.131 (64.233.174.131) 80.884 ms\n6 216.239.48.32 (216.239.48.32) 81.267 ms 81.198 ms 81.186 ms\n7 216.239.48.137 (216.239.48.137) 77.478 ms pw-in-f100.1e100.net (74.125.53.100) 79.009 ms 216.239.48.137 (216.239.48.137) 77.437 ms\n")),(0,a.yg)("p",null,"Often the hostnames and IP addresses on either side of a failed jump are useful in determining who operates the machine where the routing error occurs. Failed jumps are designated by lines with three asterisks (",(0,a.yg)("inlineCode",{parentName:"p"},"* * *"),")."),(0,a.yg)("h2",{id:"the-mtr-command"},"The mtr Command"),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"mtr")," command, like the ",(0,a.yg)("a",{parentName:"p",href:"#the-traceroute-command"},"traceroute")," tool, provides information about the route that internet traffic takes between the local system and a remote host. However, ",(0,a.yg)("inlineCode",{parentName:"p"},"mtr")," provides additional information about the round trip time for the packet. In a way, you can think of ",(0,a.yg)("inlineCode",{parentName:"p"},"mtr")," as a combination of traceroute and ping. Usually mtr is not installed by default on all operating systems, so you might need to download and install it first."),(0,a.yg)("p",null,"Here is an example of output from an ",(0,a.yg)("inlineCode",{parentName:"p"},"mtr")," command:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"HOST: google.com                        Loss%   Snt     Last    Avg     Best    Wrst    StDev\n    1.  256.129.75.4                    0.0%    10      0.4     0.4     0.3     0.6     0.1\n    2.  vlan804.tbr2.mmu.nac.net        0.0%    10      0.3     0.4     0.3     0.7     0.1\n    3.  209.85.251.9                    0.0%    10      23.1    35.9    22.6    95.2    27.6\n    4.  72.14.239.127                   0.0%    10      24.2    24.8    23.7    26.1    1.0\n    5.  209.85.255.190                  0.0%    10      27.0    27.3    23.9    37.9    4.2\n    6.  gw-in-f100.1e100.net            0.0%    10      24.1    24.4    24.0    26.5    0.7\n")),(0,a.yg)("p",null,"Like the ",(0,a.yg)("inlineCode",{parentName:"p"},"ping")," command, ",(0,a.yg)("inlineCode",{parentName:"p"},"mtr")," tracks the speed of the connection in real time until you exit the program with ",(0,a.yg)("strong",{parentName:"p"},"CONTROL+C"),". To have ",(0,a.yg)("inlineCode",{parentName:"p"},"mtr")," stop automatically and generate a report after ten packets, use the ",(0,a.yg)("inlineCode",{parentName:"p"},"--report")," flag:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"mtr --report google.com\n")),(0,a.yg)("p",null,"Be aware that ",(0,a.yg)("inlineCode",{parentName:"p"},"mtr")," will pause for a few moments while generating output. "),(0,a.yg)("p",null,"For more information regarding ",(0,a.yg)("inlineCode",{parentName:"p"},"mtr")," consider our ",(0,a.yg)("a",{parentName:"p",href:"./network-diagnostics-mtr"},"diagnosing network issues with mtr")," guide."),(0,a.yg)("h2",{id:"the-dig-command"},"The dig command"),(0,a.yg)("p",null,'Our cloud service is based on worldwide geo-loadbalanced hosts.\nTo check the correct host resolution from DNS, you can use the "dig" command:'),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"dig bintu-play.nanocosmos.de\n")),(0,a.yg)("p",null,"Example result:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"; <<>> DiG 9.10.6 <<>> bintu-play.nanocosmos.de\n;; QUESTION SECTION:\n;bintu-play.nanocosmos.de.  IN  A\n\n;; ANSWER SECTION:\nbintu-play.nanocosmos.de. 30    IN  CNAME   bintu-play.cdn.nanocosmos.de.\nbintu-play.cdn.nanocosmos.de. 10 IN CNAME   play.out-a.nanocosmos.de.\nplay.out-a.nanocosmos.de. 30    IN  CNAME   eu.out-a.nanocosmos.de.\neu.out-a.nanocosmos.de. 30  IN  CNAME   edge-eu-ams-vubm-t2a-01.out-a.nanocosmos.de.\nedge-eu-ams-vubm-t2a-01.out-a.nanocosmos.de. 30 IN A 209.250.245.22\n\n;; Query time: 12 msec\n;; SERVER: 192.168.178.1#53(192.168.178.1)\n")),(0,a.yg)("h2",{id:"sharing-results"},"Sharing results"),(0,a.yg)("p",null,"You may send your results via our ",(0,a.yg)("a",{parentName:"p",href:"https://www.nanocosmos.de/support"},"support form")," or paste it into a hosting service like ",(0,a.yg)("a",{parentName:"p",href:"https://paste.ubuntu.com"},"https://paste.ubuntu.com")," or ",(0,a.yg)("a",{parentName:"p",href:"https://gist.github.com/"},"https://gist.github.com/")))}c.isMDXComponent=!0}}]);