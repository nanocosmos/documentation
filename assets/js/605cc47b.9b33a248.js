"use strict";(self.webpackChunknanocosomos_documentation=self.webpackChunknanocosomos_documentation||[]).push([[6323],{15680:(e,t,a)=>{a.d(t,{xA:()=>p,yg:()=>b});var r=a(96540);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=r.createContext({}),l=function(e){var t=r.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,s=e.originalType,c=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=l(a),d=n,b=u["".concat(c,".").concat(d)]||u[d]||m[d]||s;return a?r.createElement(b,i(i({ref:t},p),{},{components:a})):r.createElement(b,i({ref:t},p))}));function b(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=a.length,i=new Array(s);i[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o[u]="string"==typeof e?e:n,i[1]=o;for(var l=2;l<s;l++)i[l]=a[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},46572:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var r=a(58168),n=(a(96540),a(15680));const s={id:"nanostream_webrtc_multiple_webcasts",title:"Multiple Webcasts",sidebar_label:"Multiple Webcasts"},i=void 0,o={unversionedId:"webrtc/nanostream_webrtc_multiple_webcasts",id:"webrtc/nanostream_webrtc_multiple_webcasts",title:"Multiple Webcasts",description:"Multiple Webcasts allow you to simultaneously broadcast multiple streams from a single browser tab. This feature is particularly useful for a range of use cases, including:",source:"@site/docs/webrtc/nanostream_webrtc_multiple_webcasts.md",sourceDirName:"webrtc",slug:"/webrtc/nanostream_webrtc_multiple_webcasts",permalink:"/docs/webrtc/nanostream_webrtc_multiple_webcasts",draft:!1,tags:[],version:"current",lastUpdatedAt:1715217608,formattedLastUpdatedAt:"May 9, 2024",frontMatter:{id:"nanostream_webrtc_multiple_webcasts",title:"Multiple Webcasts",sidebar_label:"Multiple Webcasts"},sidebar:"nanoStream Webcaster",previous:{title:"Input sources",permalink:"/docs/webrtc/nanostream_webrtc_input_sources"},next:{title:"Quality Settings",permalink:"/docs/webrtc/nanostream_webrtc_quality"}},c={},l=[{value:"Setting Up Multiple Webcasts",id:"setting-up-multiple-webcasts",level:2},{value:"Example: Broadcasting Camera &amp; Screen Share",id:"example-broadcasting-camera--screen-share",level:3},{value:"1. Create API Instances",id:"1-create-api-instances",level:4},{value:"2. Set up the instances",id:"2-set-up-the-instances",level:4},{value:"3. Optional: Start previews",id:"3-optional-start-previews",level:4},{value:"4. Start broadcasts on both instances",id:"4-start-broadcasts-on-both-instances",level:4}],p={toc:l},u="wrapper";function m(e){let{components:t,...a}=e;return(0,n.yg)(u,(0,r.A)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("p",null,"Multiple Webcasts allow you to simultaneously broadcast multiple streams from a single browser tab. This feature is particularly useful for a range of use cases, including:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Broadcasting multiple camera and/or microphone streams at once."),(0,n.yg)("li",{parentName:"ul"},"Broadcasting a camera and screen share streams."),(0,n.yg)("li",{parentName:"ul"},"Broadcasting multiple audio streams.")),(0,n.yg)("h2",{id:"setting-up-multiple-webcasts"},"Setting Up Multiple Webcasts"),(0,n.yg)("p",null,"To start multiple Webcasts, you'll need to create and setup multiple instances of the Webcaster API in your code. How you configure these instances depends on the sources you want to use for streaming."),(0,n.yg)("h3",{id:"example-broadcasting-camera--screen-share"},"Example: Broadcasting Camera & Screen Share"),(0,n.yg)("p",null,"In this example, we'll demonstrate how to:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Create and configure two instances of the Webcaster API for camera and screen sharing."),(0,n.yg)("li",{parentName:"ul"},"Set up both instances."),(0,n.yg)("li",{parentName:"ul"},"Start two previews, one for the camera and one for screen sharing."),(0,n.yg)("li",{parentName:"ul"},"Start the broadcast on both instances.")),(0,n.yg)("h4",{id:"1-create-api-instances"},"1. Create API Instances"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-js"},"// First, create an instance for broadcasting a camera stream\n// The media stream will be created internally with default constraints\nconst camWebcaster = new window.WebcasterApiV6({\n  serverUrl: 'https://bintu-webrtc.nanocosmos.de/p/webrtc',\n  ingestUrl: 'rtmp://bintu-stream.nanocosmos.de:1935/live',\n  streamName: '<STREAM-NAME-1>'\n});\n\n// For screen sharing, obtain a media stream\nconst screenMediaStream = await navigator.mediaDevices.getDisplayMedia({ video: true });\n\n// Create a second instance for broadcasting the screen share\n// Pass the screenMediaStream as a part of config object\nconst screenWebcaster = new window.WebcasterApiV6({\n  inputCfg: {\n    mediaStream: screenMediaStream\n  },\n  serverUrl: 'https://bintu-webrtc.nanocosmos.de/p/webrtc',\n  ingestUrl: 'rtmp://bintu-stream.nanocosmos.de:1935/live',\n  streamName: '<STREAM-NAME-2>'\n});\n")),(0,n.yg)("h4",{id:"2-set-up-the-instances"},"2. Set up the instances"),(0,n.yg)("p",null,"Before using the API further, make sure to set up the instances. This step includes creating a media stream if it's not passed and configuring other internal settings. Feel free to run these calls in parallel."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-js"},"await camWebcaster.setup(),\n\nawait screenWebcaster.setup()\n")),(0,n.yg)("h4",{id:"3-optional-start-previews"},"3. Optional: Start previews"),(0,n.yg)("p",null,"To start previews, call ",(0,n.yg)("strong",{parentName:"p"},"startPreview")," on both instances and pass the corresponding video element IDs."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-js"},"camWebcaster.startPreview('camera-preview-id');\n\nscreenWebcaster.startPreview('screenshare-preview-id');\n")),(0,n.yg)("h4",{id:"4-start-broadcasts-on-both-instances"},"4. Start broadcasts on both instances"),(0,n.yg)("p",null,"To initiate the broadcasts one after another, call and await ",(0,n.yg)("strong",{parentName:"p"},"startBroadcast")," on both instances. You can run these calls in parallel."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-js"},"await camWebcaster.startBroadcast();\n\nawait screenWebcaster.startBroadcast();\n")))}m.isMDXComponent=!0}}]);