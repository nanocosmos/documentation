<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-nanostream/android/nanostream_android_developer_manual_streaming">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Streaming Media | nanocosmos Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.nanocosmos.de/img/social-card.jpeg"><meta data-rh="true" name="twitter:image" content="https://docs.nanocosmos.de/img/social-card.jpeg"><meta data-rh="true" property="og:url" content="https://docs.nanocosmos.de/docs/nanostream/android/nanostream_android_developer_manual_streaming"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="live streaming, video live streaming, streaming, docs, developer docs"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Streaming Media | nanocosmos Docs"><meta data-rh="true" name="description" content="Resolution, Aspect Ratio and Orientation"><meta data-rh="true" property="og:description" content="Resolution, Aspect Ratio and Orientation"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.nanocosmos.de/docs/nanostream/android/nanostream_android_developer_manual_streaming"><link data-rh="true" rel="alternate" href="https://docs.nanocosmos.de/docs/nanostream/android/nanostream_android_developer_manual_streaming" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.nanocosmos.de/docs/nanostream/android/nanostream_android_developer_manual_streaming" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="nanocosmos Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="nanocosmos Docs Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D55K07W445"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-D55K07W445",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="nanocosmos Docs" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.cf18635f.css">
<link rel="preload" href="/assets/js/runtime~main.e31461b5.js" as="script">
<link rel="preload" href="/assets/js/main.fa4881ec.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://docs.nanocosmos.de" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo.svg" alt="nanocosmos Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="nanocosmos Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" sidebarid="nanoStream Cloud" href="/docs/cloud/cloud_overview">nanoStream Cloud</a><a class="navbar__item navbar__link" sidebarid="H5Live Player" href="/docs/nanoplayer/nanoplayer_introduction">H5Live Player</a><a class="navbar__item navbar__link" sidebarid="Webcaster" href="/docs/webrtc/nanostream_webrtc_introduction">Webcaster</a><a class="navbar__item navbar__link" sidebarid="Analytics" href="/docs/cloud/analytics">Analytics</a><a class="navbar__item navbar__link" sidebarid="FAQ" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" sidebarid="Samples" href="/docs/samples">Samples</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">nanoStream Apps &amp; SDKs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream">Introduction</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/nanostream/android/nanostream_android_getting_started">Android</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/android/nanostream_android_getting_started">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/android/nanostream_android_developer_manual_playback">Playback</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/nanostream/android/nanostream_android_developer_manual_streaming">Streaming Media</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/android/nanostream_android_developer_manual_sample">Sample</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/nanostream/ios/nanostream_ios_quick_start">iOS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/ios/nanostream_ios_quick_start">Developer Quickstart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/ios/nanostream-ios-step-by-step">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/ios/nanostream_ios_sdk">SDK for iOS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/ios/bintu_ios_sdk">bintu.live client SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/ios/bintu_ios_sample">iOS Streaming App in 5 Minutes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/ios/nanostream_ios_license_deployment">License Deployment Information</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/nanostream/windows/nanostream_windows_binaries">Windows</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/windows/nanostream_windows_binaries">Binary Modules for Windows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/windows/nanostream_windows_developer_manual">Developer Manual</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/windows/nanostream_windows_language_integration">nanoStream Windows Language Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/windows/nanostream_windows_license_help">Setting the license</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/windows/nanostream_encoder_plugin_api">Encoder Plugin API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/nanostream/directshow">Direct Show</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/directshow">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/directshow/nanostream_directshow_h264">H264</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/directshow/nanostream_directshow_rtmp">RTMP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/directshow/directshow_rtmp_writer">RTMP Writer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/directshow/nanostream_directshow_rtsp">RTSP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/directshow/nanostream_directshow_udp_streaming">UDP/TS Streaming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nanostream/directshow/nanostream_directshow_video_filter">Video Filter</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Android</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Streaming Media</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Streaming Media</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resolution-aspect-ratio-and-orientation">Resolution, Aspect Ratio and Orientation<a href="#resolution-aspect-ratio-and-orientation" class="hash-link" aria-label="Direct link to Resolution, Aspect Ratio and Orientation" title="Direct link to Resolution, Aspect Ratio and Orientation">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolution">Resolution<a href="#resolution" class="hash-link" aria-label="Direct link to Resolution" title="Direct link to Resolution">​</a></h3><p>Resolution means the native resolution of the camera (input). In the most situations this will be the same for the output.
To set the resolution there is a function in the <code>VideoSettings</code> object called <code>setResolution(Resolution res)</code>. If you set a resolution that the
device doesn&#x27;t support, nanoStream will automatically switch to the nearest resolution available on the device. A list of supported resolutions for the current video source can be obtained from <code>getCapabilities().listAvailableVideoResolutions()</code>
on the <code>nanoStream</code> object.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="aspect-ratio">Aspect Ratio<a href="#aspect-ratio" class="hash-link" aria-label="Direct link to Aspect Ratio" title="Direct link to Aspect Ratio">​</a></h3><p>Aspect ratio means the aspect ratio of the outgoing stream. The aspect ratio determines if the input video needs to be cropped.
The aspect ratio can be set through the <code>setAspectRatio(AspectRatio aspectRatio)</code> function on the <code>VideoSettings</code> object.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="supported-aspect-ratios">Supported Aspect Ratios<a href="#supported-aspect-ratios" class="hash-link" aria-label="Direct link to Supported Aspect Ratios" title="Direct link to Supported Aspect Ratios">​</a></h4><table><thead><tr><th>Aspect Ratio</th><th>AspectRatio value</th></tr></thead><tbody><tr><td><strong><code>Keep Input</code></strong></td><td><code>AspectRatio.RATIO_KEEP_INPUT</code></td></tr><tr><td><strong><code>1:1</code></strong></td><td><code>AspectRatio.RATIO_1_1</code></td></tr><tr><td><strong><code>4:3</code></strong></td><td><code>AspectRatio.RATIO_4_3</code></td></tr><tr><td><strong><code>16:9</code></strong></td><td><code>AspectRatio.RATIO_16_9</code></td></tr><tr><td><strong><code>3:4</code></strong></td><td><code>AspectRatio.RATIO_3_4</code></td></tr><tr><td><strong><code>9:16</code></strong></td><td><code>AspectRatio.RATIO_9_16</code></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="orientation">Orientation<a href="#orientation" class="hash-link" aria-label="Direct link to Orientation" title="Direct link to Orientation">​</a></h3><p>The default stream orientation is landscape. If you switch to portrait the resolution will swap width and height, e.g. from <code>640x480</code> to <code>480x640</code>.
You can set the stream orientation on the <code>nanoStream</code> object with the <code>setStreamRotation</code> function. The stream orientation needs to be set
before starting the stream, it is not possible to switch the orientation during the stream.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="supported-orientations">Supported Orientations<a href="#supported-orientations" class="hash-link" aria-label="Direct link to Supported Orientations" title="Direct link to Supported Orientations">​</a></h4><table><thead><tr><th>Orientation</th><th>Rotation Value</th></tr></thead><tbody><tr><td><strong><code>Landscape</code></strong></td><td><code>Rotation.ROTATION_0</code></td></tr><tr><td><strong><code>Portrait</code></strong></td><td><code>Rotation.ROTATION_90</code></td></tr><tr><td><strong><code>Landscape Upside Down</code></strong></td><td><code>Rotation.ROTATION_180</code></td></tr><tr><td><strong><code>Portrait Upside Down</code></strong></td><td><code>Rotation.ROTATION_270</code></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-combinations-of-aspect-ratios-and-orientations">Example Combinations of Aspect Ratios and Orientations<a href="#example-combinations-of-aspect-ratios-and-orientations" class="hash-link" aria-label="Direct link to Example Combinations of Aspect Ratios and Orientations" title="Direct link to Example Combinations of Aspect Ratios and Orientations">​</a></h3><p>The input resolution is set to <code>640x480</code> here.
The red rectangle marks up the active area that is included in the output stream.</p><table><thead><tr><th>Orientation</th><th>Aspect Ratio</th><th>Stream Area</th></tr></thead><tbody><tr><td>Portrait<sup><a href="#fnAS1">1</a></sup></td><td>Keep Input</td><td><img loading="lazy" alt="Screenshot" src="/assets/images/portrait_keep_input-28d4fbfc48da1c4ad8607b9a66c4fc68.png" width="782" height="1395" class="img_ev3q"></td></tr><tr><td>Portrait<sup><a href="#fnAS1">1</a></sup></td><td>4:3</td><td><img loading="lazy" alt="Screenshot" src="/assets/images/portrait_4_3-c7957a76d2d110052d25975467fb5733.png" width="782" height="1395" class="img_ev3q"></td></tr><tr><td>Portrait<sup><a href="#fnAS1">1</a></sup></td><td>3:4</td><td><img loading="lazy" alt="Screenshot" src="/assets/images/portrait_3_4-28d4fbfc48da1c4ad8607b9a66c4fc68.png" width="782" height="1395" class="img_ev3q"></td></tr><tr><td>Portrait<sup><a href="#fnAS1">1</a></sup></td><td>16:9</td><td><img loading="lazy" alt="Screenshot" src="/assets/images/portrait_16_9-53395b41af4fd4695ee197b9e3315bf3.png" width="782" height="1395" class="img_ev3q"></td></tr><tr><td>Portrait<sup><a href="#fnAS1">1</a></sup></td><td>9:16</td><td><img loading="lazy" alt="Screenshot" src="/assets/images/portrait_9_16-5038ad4c6c84aa83a7aab390b2645f30.png" width="782" height="1395" class="img_ev3q"></td></tr><tr><td>Landscape</td><td>Keep Input</td><td><img loading="lazy" alt="Screenshot" src="/assets/images/landscape_keep_input-1e7e8bc79c50ac34564e56ff88ea9ae6.png" width="2499" height="1262" class="img_ev3q"></td></tr><tr><td>Landscape</td><td>4:3</td><td><img loading="lazy" alt="Screenshot" src="/assets/images/landscape_4_3-b5f81691b28890d7385d945616ac388d.png" width="2499" height="1262" class="img_ev3q"></td></tr><tr><td>Landscape</td><td>3:4</td><td><img loading="lazy" alt="Screenshot" src="/assets/images/landscape_3_4-36870b120ce9223b48182175877bd1a2.png" width="2499" height="1262" class="img_ev3q"></td></tr><tr><td>Landscape</td><td>16:9</td><td><img loading="lazy" alt="Screenshot" src="/assets/images/landscape_16_9-b24e5f3e54ce0b31483fa08a980410c5.png" width="2499" height="1262" class="img_ev3q"></td></tr><tr><td>Landscape</td><td>9:16</td><td><img loading="lazy" alt="Screenshot" src="/assets/images/landscape_9_16-918822f0f2f4ead1a3de5cd4219b7109.png" width="2499" height="1262" class="img_ev3q"></td></tr></tbody></table><a name="fnAS1">1</a>: In this sample APP we crop the preview so it doesn&#x27;t look ugly, so the stream is actually larger then the preview.<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3><p>If you want to stream with a resolution of <code>640x360</code> but your device doesn&#x27;t supports this resolution, you need to crop the resolution from <code>640x480</code> (this resolution is supported by the most devices) to <code>640x360</code>.
This can be done through the aspect ratio, so you need to set the aspect ratio to <code>16:9</code> to stream with a resolution of <code>640x360</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-example">Implementation Example<a href="#implementation-example" class="hash-link" aria-label="Direct link to Implementation Example" title="Direct link to Implementation Example">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class MainActivity {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected void onCreate(Bundle savedInstanceState) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      super.onCreate(savedInstanceState);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      nanoStreamSettings nss = new nanoStreamSettings();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      VideoSettings vs = new VideoSettings();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      vs.setResolution(new Resolution(640, 480)); // default value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      vs.setAspectRatio(AspectRatio.RATIO_16_9); // default value is AspectRatio.KEEP_INPUT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      streamLib = new nanoStream(nss);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      streaLib.init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      streamLib.setStreamRotation(Rotation.ROTATION_0); // default value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stream-type">Stream Type<a href="#stream-type" class="hash-link" aria-label="Direct link to Stream Type" title="Direct link to Stream Type">​</a></h2><p>The SDK supports differnet streaming modes:</p><ul><li>Video and Audio</li><li>Video only</li><li>Audio only</li></ul><p>You can en/disable Video/Audio in the <code>nanoStreamSettings.object</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-example-1">Implementation Example<a href="#implementation-example-1" class="hash-link" aria-label="Direct link to Implementation Example" title="Direct link to Implementation Example">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nanoStreamSettings nss = new nanoStreamSettings();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nss.setHaveVideo(true); // false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nss.setHaveAudio(true); // false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="server-authentication">Server Authentication<a href="#server-authentication" class="hash-link" aria-label="Direct link to Server Authentication" title="Direct link to Server Authentication">​</a></h2><p>In case authentication is required, the credentials can be set on the <code>nanoStreamSettings</code> object.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-example-2">Implementation Example<a href="#implementation-example-2" class="hash-link" aria-label="Direct link to Implementation Example" title="Direct link to Implementation Example">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nanoStreamSettings nss = new nanoStreamSettings();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nss.setAuthUser(&quot;user&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nss.setAuthPassword(&quot;password&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="local-recording">Local Recording<a href="#local-recording" class="hash-link" aria-label="Direct link to Local Recording" title="Direct link to Local Recording">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="description">Description<a href="#description" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h3><p>The nanoStream Android SDK supports local file recording on the device in MP4 format. This document describes how to enable and configure nanoStream for local recording.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="steps-to-configure-mp4-recording">Steps to configure MP4 recording<a href="#steps-to-configure-mp4-recording" class="hash-link" aria-label="Direct link to Steps to configure MP4 recording" title="Direct link to Steps to configure MP4 recording">​</a></h3><p>MP4 recording can be configured with two function calls on a nanoStreamSettings object.</p><ul><li>Enabling MP4 recording: <code>setRecordMp4(boolean)</code></li><li>Setting up the file path: <code>setMp4Path(String)</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setrecordmp4boolean">setRecordMp4(boolean)<a href="#setrecordmp4boolean" class="hash-link" aria-label="Direct link to setRecordMp4(boolean)" title="Direct link to setRecordMp4(boolean)">​</a></h3><p>The <code>setRecordMp4</code> function takes a boolean as parameter to enable/disable the recording function.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setmp4pathstring">setMp4Path(String)<a href="#setmp4pathstring" class="hash-link" aria-label="Direct link to setMp4Path(String)" title="Direct link to setMp4Path(String)">​</a></h3><p>The <code>setMp4Path</code> function takes a String as parameter. This string needs to be a valid file path (e.g. <code>/sdcard/test.mp4</code>). It is recommended to use the <code>getExternalStorageDirectory</code> or <code>getExternalStoragePublicDirectory</code> functions from the <!-- -->[Android Enviroment][8928e181]<!-- --> API, and add a file name to the returned path. Please find the code snippet below as an example.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="android-permission">Android Permission<a href="#android-permission" class="hash-link" aria-label="Direct link to Android Permission" title="Direct link to Android Permission">​</a></h3><p>To be able to write to an external file path your Android app needs the following permissions to be added to the app manifest (<code>AndroidMainfest.xml</code>).</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.WRITE_EXTERNAL_STORAGE</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.STORAGE</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="android-60">Android 6.0<a href="#android-60" class="hash-link" aria-label="Direct link to Android 6.0" title="Direct link to Android 6.0">​</a></h4><p>Due to the new permission handling in Android 6 (M) writing to external directories (DCIM) requires a permission by user. Writing to the applications own data directory (/Android/data/com.companyname.appname/) is not restricted.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-example-3">Implementation Example<a href="#implementation-example-3" class="hash-link" aria-label="Direct link to Implementation Example" title="Direct link to Implementation Example">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">File externalFilePath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">File filePath = new File(externalFilePath, &quot;myMp4File.mp4&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String mp4FilePath = filePath.getAbsolutePath();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nanoStreamSettings nss = new nanoStreamSettings();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nss.setRecordMp4(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nss.setMp4Path(mp4FilePath);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adaptive-bitrate-streaming">Adaptive Bitrate Streaming<a href="#adaptive-bitrate-streaming" class="hash-link" aria-label="Direct link to Adaptive Bitrate Streaming" title="Direct link to Adaptive Bitrate Streaming">​</a></h2><p>By using the Adaptive Bitrate Control (ABC) the stream will automatically adjust to changes of the bandwidth. There are four modes available:</p><ul><li><code>DISABLED</code>: The Adaptive Bitrate Control is disabled.</li><li><code>QUALITY_DEGRADE</code>: The video quality will be changed if the bandwidth changes. For instance, if not enough bandwidth is available, the video bitrate will be decreased, which in turn degrades the video quality.</li><li><code>FRAME_DROP</code>: Low bandwidth is compensated by decreasing the framerate (FPS), but maintaining the video qualtiy.</li><li><code>QUALITY_DEGRADE_AND_FRAME_DROP</code>: The video quality and the framerate (FPS) decreased if the not enough bandwidth is available.</li></ul><p>Make sure to set the ABC settings before a stream is started.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-example-4">Implementation Example<a href="#implementation-example-4" class="hash-link" aria-label="Direct link to Implementation Example" title="Direct link to Implementation Example">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">private AdaptiveBitrateControlSettings.AdaptiveBitrateControlMode abcMode = AdaptiveBitrateControlSettings.AdaptiveBitrateControlMode.QUALITY_DEGRADE_AND_FRAME_DROP;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private int videoBitrate = 500000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private void initStreamLib() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AdaptiveBitrateControlSettings abcSettings = new AdaptiveBitrateControlSettings(abcMode);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  abcSettings.SetMaximumBitrate((int)(videoBitrate * 1.5));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nanoStreamSettings nss = new nanoStreamSettings();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nss.setAbcSettings(abcSettings);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="measuring-the-available-bandwidth">Measuring the available bandwidth<a href="#measuring-the-available-bandwidth" class="hash-link" aria-label="Direct link to Measuring the available bandwidth" title="Direct link to Measuring the available bandwidth">​</a></h3><p>For measuring the available bandwidth you can use the method <code>runBandwidthCheck</code>. After the check finished, the result can be used to set the bitrate for the nanoStream object.
The check measures the bandwidth by running a test stream to the server.
The BandwidthCheck Class has three public functions:</p><ul><li><code>runBandwidthCheck(BandwidthCheckSettings settings, BandwidthCheckResultCallback callback())</code></li><li><code>forceStop()</code></li><li><code>abort()</code></li></ul><p>There is a BandwidthCheckSettings Class, the constructor creates a standard object of BandwidthCheckSettings, with the following settings:</p><table><thead><tr><th align="left">property</th><th align="left">default values</th><th align="left">meaning</th></tr></thead><tbody><tr><td align="left"><code>prerollSeconds</code></td><td align="left">1 (in sec.)</td><td align="left">this is the pre roll time to connect to the server</td></tr><tr><td align="left"><code>runTime</code></td><td align="left">5 (in sec.)</td><td align="left">the run time of the bandwidth check</td></tr><tr><td align="left"><code>maxBitrate</code></td><td align="left">3000000 (bit/s = 3 MBit/s)</td><td align="left">the maximum bit rate for the bandwidth check</td></tr><tr><td align="left"><code>rtmpUrl</code></td><td align="left">empty</td><td align="left">the rtmp url for the bandwidth check</td></tr><tr><td align="left"><code>streamId</code></td><td align="left">empty</td><td align="left">the stream id for the bandwidth check</td></tr></tbody></table><p>With this settings you can call the runBandwidthCheck methode, the second parameter is the callback for the results. This callback class has a finished method that will be called after bandwidth check is done.
The finished method has one parameter from type BandwidthCheckResult, this object has 6 getter methods:</p><ul><li><code>getAverageBitrate()</code> // the average measured bandwidth</li><li><code>getMedianBitrate()</code> // the median measured bandwidth</li><li><code>getMaxBitrate()</code> // the maximum measured bandwidth</li><li><code>getMinBitrate()</code> // the minimum measured bandwidth</li><li><code>getRunTimeMS()</code> // the run time in ms</li><li><code>getErrorCode()</code> // the error code if all is ok this is nanoResults.N_OK (all error codes can be found in the nanoStream API Reference documentation for nanoResults)</li></ul><p>The forceStop call stops the bandwidth check and will return the results that where measured until then. The abort call stops the bandwidth check but don&#x27;t return any results.</p><p>The bandwidth check, sends a special type of metadata that will not be recorded on the Streaming Server.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-example-5">Implementation Example<a href="#implementation-example-5" class="hash-link" aria-label="Direct link to Implementation Example" title="Direct link to Implementation Example">​</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">private BandwidthCheck bwCheck = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private class CustomBandwidthCheckResultCallback implements BandwidthCheckResultCallback {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void finished(final BandwidthCheckResult bandwidthCheckResult) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Log.d(TAG, &quot;BandwidthCheck results: &quot; +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;\n\tAverage Bitrate (kBit/s): &quot; + bandwidthCheckResult.getAverageBitrate() / 1000 +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;\n\tMedian Bitrate  (kBit/s): &quot; + bandwidthCheckResult.getMedianBitrate() / 1000 +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;\n\tMax Bitrate     (kBit/s): &quot; + bandwidthCheckResult.getMaxBitrate() / 1000 +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;\n\tMin Bitrate     (kBit/s): &quot; + bandwidthCheckResult.getMinBitrate() / 1000 +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;\n\tRun Time        (ms)    : &quot; + bandwidthCheckResult.getRunTimeMS());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private void initBandwidthCheck() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if(null == bwCheck) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BandwidthCheckSettings settings = new BandwidthCheckSettings();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    settings.setRtmpUrl(serverUrl);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    settings.setStreamId(streamName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bwCheck = new BandwidthCheck();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bwCheck.runBandwidthCheck(settings, new CustomBandwidthCheckResultCallback());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>##Snapshot</p><p>To get a snapshot (image) of the current preview/stream, the method <code>takeSnapshot</code> can be used. This is a non blocking function, for the result you need to implement the <code>SnapshotCallback</code> interface. The snapshot returns as a <code>base64</code> encoded <code>JPEG</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-example-6">Implementation Example<a href="#implementation-example-6" class="hash-link" aria-label="Direct link to Implementation Example" title="Direct link to Implementation Example">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">private class CustomSnapshotCallback implements SnapshotCallback {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  void onSuccess(String arg0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with the base64 encoded JPEG.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> void onFailure(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Log.d(TAG, &quot;takeSnapshot() failed!&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private void shapshot() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  streamLib.takeSnapshot(new CustomSnapshotCallback());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="camera-zoom">Camera Zoom<a href="#camera-zoom" class="hash-link" aria-label="Direct link to Camera Zoom" title="Direct link to Camera Zoom">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="description-1">Description<a href="#description-1" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h3><p>The nanoStream Android SDK supports camera zoom, if the internal camera supports it. Therefor there are a few functions, the most important are:</p><table><thead><tr><th align="left">Function</th><th align="left">Return Type</th><th align="left">returns</th></tr></thead><tbody><tr><td align="left"><code>hasZoom()</code></td><td align="left"><code>boolean</code></td><td align="left">true if zoom is supported by the video source/ device</td></tr><tr><td align="left"><code>getZoomRatios()</code></td><td align="left"><code>List&lt;Integer&gt;</code></td><td align="left">list with of ale zoom ratios</td></tr><tr><td align="left"><code>getZoom()</code></td><td align="left"><code>int</code></td><td align="left">the index of the <code>List&lt;Integer&gt;</code> that returned from <code>getZoomRatios()</code></td></tr><tr><td align="left"><code>setZoom(int)</code></td><td align="left"><code>int</code></td><td align="left">the new index of the <code>List&lt;Integer&gt;</code> that returned from <code>getZoomRatios()</code></td></tr></tbody></table><p>It is recommended to use pinch to zoom, therefor you need to implement a <code>ScaleGestureDetector.SimpleOnScaleGestureListener</code>, and a <code>pinch2zoom</code> function, that takes the <code>scalefactor</code> from the <code>SimpleOnScaleGestureListener</code> as a int parameter, take a look at the <!-- -->[Implementation Example][ef1c8421]<!-- -->.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="getzoomratios">getZoomRatios()<a href="#getzoomratios" class="hash-link" aria-label="Direct link to getZoomRatios()" title="Direct link to getZoomRatios()">​</a></h4><p><code>getZoomRatios()</code> returns a List of Integer values, this values are the zoom ratios in <code>1/100</code> increments (e.g. a zoom of <code>3.2x</code> is returned as <code>320</code>).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setzoomint">setZoom(int)<a href="#setzoomint" class="hash-link" aria-label="Direct link to setZoom(int)" title="Direct link to setZoom(int)">​</a></h4><p>The int parameter from <code>setZoom(int zoom)</code> is the index of zoom ratios that returns <code>getZoomRatios()</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="zoom-behavior-on-camera-switch">Zoom Behavior on Camera Switch<a href="#zoom-behavior-on-camera-switch" class="hash-link" aria-label="Direct link to Zoom Behavior on Camera Switch" title="Direct link to Zoom Behavior on Camera Switch">​</a></h4><p>During a camera switch (e.g. from back to front) the zoom remains unaffected.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-example-7">Implementation Example<a href="#implementation-example-7" class="hash-link" aria-label="Direct link to Implementation Example" title="Direct link to Implementation Example">​</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class MainActivity extends Activity {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private ScaleGestureDetector scaleGestureDetector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private List&lt;Integer&gt; mZoomRatios = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private nanoStream streamLib = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  protected void onCreate(Bundle savedInstanceState) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    super.onCreate(savedInstanceState);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nanoStreamSettings nss = new nanoStreamSettings();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // configure nanoStreamSettings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    streamLib = new nanoStream(nss);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(streamLib.hasZoom()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      mZoomRatios = streamLib.getZoomRatio();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(null == scaleGestureDetector) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      scaleGestureDetector = new ScaleGestureDetector(this, new ScaleGestureListener());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean onTouchEvent(MotionEvent event)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (scaleGestureDetector != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      scaleGestureDetector.onTouchEvent(event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private class ScaleGestureListener extends ScaleGestureDetector.SimpleOnScaleGestureListener {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean onScale(ScaleGestureDetector detector) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if(null != streamLib) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (streamLib.hasZoom()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          pinch2Zoom(detector.getScaleFactor());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void pinch2Zoom(float scaleFactor) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (streamLib.hasZoom() &amp;&amp; null != mZoomRatios) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      int zoomFactor = streamLib.getZoom();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      float zoomRatio = mZoomRatios.get(zoomFactor) / 100f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      zoomRatio *= scaleFactor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (zoomRatio &gt; 1.0f) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (scaleFactor &gt; 1.0f) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          for (int i = zoomFactor; i &lt; mZoomRatios.size(); i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Double zoom = mZoomRatios.get(i) / 100.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (zoom &gt;= zoomRatio) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              streamLib.setZoom(i);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          for (int i = zoomFactor; i &gt; 0; i--) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Double zoom = mZoomRatios.get(i) / 100.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (zoom &lt;= zoomRatio) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              streamLib.setZoom(i);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="camera-focus">Camera Focus<a href="#camera-focus" class="hash-link" aria-label="Direct link to Camera Focus" title="Direct link to Camera Focus">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="description-2">Description<a href="#description-2" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h3><p>The nanoStream Android SDK supports camera focus and focus lock, if the internal cameras supports them. There are two non-blocking functions</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">setFocusArea(int focusWidth, int focusHeight, float areaMultiple, int x, int y, int previewWidth, int previewHeight, int weigh)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">setFocusLockArea(int focusWidth, int focusHeight, float areaMultiple, int x, int y, int previewWidth, int previewHeight, int weigh)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>through the</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">addFocusCalback(FocusCallback callback)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">removeFocusCalback(FocusCallback callback)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>you can attach or remove a <code>FocusCallback</code> listener.
To check if your device supports focus call the function</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">isFocusSupported()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>which will return <code>true</code> or <code>false</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="parameter-list">Parameter List<a href="#parameter-list" class="hash-link" aria-label="Direct link to Parameter List" title="Direct link to Parameter List">​</a></h3><table><thead><tr><th><strong>Parameter name</strong></th><th><strong>meaning</strong></th></tr></thead><tbody><tr><td><code>focusWidth</code></td><td>the focus Area width</td></tr><tr><td><code>focusHeight</code></td><td>the focus Area height</td></tr><tr><td><code>areaMultiple</code></td><td>a Multiple for the focus area (default: 1f)</td></tr><tr><td><code>x</code></td><td>the x position on the Screen</td></tr><tr><td><code>y</code></td><td>the y position on the Screen</td></tr><tr><td><code>previewWidth</code></td><td>the width of the preview</td></tr><tr><td><code>previewHeight</code></td><td>the height of the preview</td></tr><tr><td><code>weight</code></td><td>the weight of the area must be range from 1 to 1000</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="focuscallback-interface">FocusCallback interface<a href="#focuscallback-interface" class="hash-link" aria-label="Direct link to FocusCallback interface" title="Direct link to FocusCallback interface">​</a></h3><p>The <code>FocusCallback</code> interface has three abstract functions</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">onSuccess()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">onSuccess(Rect rect, Boolean focusLock)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">onFailure()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-example-8">Implementation Example<a href="#implementation-example-8" class="hash-link" aria-label="Direct link to Implementation Example" title="Direct link to Implementation Example">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class MainActifity extens Actifity implements FocusCallback {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private GestureDetector gestureDetector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private nanoStream streamLib = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  protected void onCreate(Bundle savedInstanceState) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    super.onCreate(savedInstanceState);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    streamLib = new nanoStream(new nanoStreamSettings());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(streamLib.isFocusSupported()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      gestureDetector = new GestureDetector(this, new GestureListener());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean onTouchEvent(MotionEvent event)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (gestureDetector != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        gestureDetector.onTouchEvent(event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private class GestureListener implements OnGestureListener {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     public boolean onSingleTapUp(MotionEvent e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         if (streamLib != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             streamLib.setFocusArea(300, 300, 1f, (int) e.getX(), (int) e.getY(), surface.getWidth(), surface.getHeight(), 1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     public void onLongPress(MotionEvent e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         if (streamLib != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             streamLib.setFocusLockArea(300, 300, 1f, (int) e.getX(), (int) e.getY(), surface.getWidth(), surface.getHeight(), 1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onSuccess(Rect rect, Boolean aBoolean) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Log.i(TAG, &quot;focus success&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onFailure() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Log.i(TAG, &quot;focus failed&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deviceproperties">DeviceProperties<a href="#deviceproperties" class="hash-link" aria-label="Direct link to DeviceProperties" title="Direct link to DeviceProperties">​</a></h2><p>Before Android 4.3 there was no obligation for Android hardware manufacturers to pass the video related parts of the CTS (Compatibility Test Suite).
Therefore some Android 4.1 and 4.2 Devices show non standard behaviour in regard to color format definitions and representation of video frames in memory. This could lead to issues in the video stream like switched red and blue colors, dislocated color components or a green bar at the bottom of the video frame. nanoStream Android now provides the functionality to detect and compensate common issues related to this.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="description-3">Description<a href="#description-3" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h3><p><code>nanoStream.getDeviceProperties()</code> is a static function that is running a test on the device hardware to detect non standard behaviour and returning a DeviceProperties object containing the result.
<code>DeviceProperties.getFlags()</code> returns the test result as an integer value that can be stored in the application preferences, to avoid running the device test on every app start.
DeviceProperties can be applied to a new nanoStream instance by calling <code>nanoStream.setDeviceProperties(DeviceProperties)</code>.
We recommend to call <code>getDeviceProperties()</code> in a background thread during the first app start on a pre 4.3 device, because the call is blocking and might last up to 5 seconds on older/weaker devices.
We also recommend to store the OS version in the preferences, to be able to detect OS updates and to eventually rerun the device test or stop setting the DeviceProperties if the new OS is 4.3 or higher.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-example-9">Implementation Example<a href="#implementation-example-9" class="hash-link" aria-label="Direct link to Implementation Example" title="Direct link to Implementation Example">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class App extends Application</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static DeviceProperties deviceProp = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onCreate()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.onCreate();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Thread chkThread = new Thread(new Runnable()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void run()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    int curApiVer = android.os.Build.VERSION.SDK_INT;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    int curAppVer = getPackageManager().getPackageInfo(getPackageName(), 0).versionCode;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    int curEncVer = DeviceProperties.VERSION;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    int oldApiVer = prefs.getInt(&quot;Pref_Android_API&quot;, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    int oldAppVer = prefs.getInt(&quot;Pref_App_Version&quot;, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    int oldChkVer = prefs.getInt(&quot;Pref_Check_Version&quot;, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    int oldChkResult = prefs.getInt(&quot;Pref_Check_Result&quot;, -1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (((oldApiVer * oldAppVer * oldApiVer) == 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    || (oldApiVer &lt; curApiVer)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    || (oldAppVer &lt; curAppVer)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    || (oldChkVer &lt; curEncVer)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    || oldChkResult &lt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        Editor edit = prefs.edit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        edit.putInt(&quot;Pref_Android_API&quot;, curApiVer);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        edit.putInt(&quot;Pref_App_Version&quot;, curAppVer);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        /* Run  device check */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            deviceProp = nanoStream.getDeviceProperties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            edit.putInt(&quot;Pref_Check_Result&quot;, deviceProp.getFlags());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            edit.putInt(&quot;Pref_Check_Version&quot;, deviceProp.getVersion());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            edit.commit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        catch (RuntimeException e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            Log.d(&quot;Device Check failed&quot;, e.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            edit.putInt(&quot;Pref_Check_Result&quot;, -1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            edit.putInt(&quot;Pref_Check_Version&quot;, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            edit.commit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        deviceProp = new DeviceProperties(oldChkResult);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Log.d(&quot;Device Properties: &quot;, deviceProp.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                catch (Exception e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Log.d(this.getClass().getName(), &quot;Device Check Runnable&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (android.os.Build.VERSION.SDK_INT &lt; 18)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            chkThread.start();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static DeviceProperties getDeviceProperties()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return deviceProp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class MainActivity extends Activity implements NanostreamEventListener</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected void onCreate(Bundle savedInstanceState)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            nanoStreamSettings nss = new nanoStreamSettings();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            streamLib = new nanoStream(nss);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            DeviceProperties deviceProperties = App.getDeviceProperties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(null != streamLib &amp;&amp; null != deviceProperties)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                streamLib.setDeviceProperties(deviceProperties);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        catch(NanostreamException en)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Toast.makeText(getApplicationContext(), en.toString(), Toast.LENGTH_LONG).show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-10-09T09:57:11.000Z">Oct 9, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/nanostream/android/nanostream_android_developer_manual_playback"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Playback</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/nanostream/android/nanostream_android_developer_manual_sample"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sample</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#resolution-aspect-ratio-and-orientation" class="table-of-contents__link toc-highlight">Resolution, Aspect Ratio and Orientation</a><ul><li><a href="#resolution" class="table-of-contents__link toc-highlight">Resolution</a></li><li><a href="#aspect-ratio" class="table-of-contents__link toc-highlight">Aspect Ratio</a></li><li><a href="#orientation" class="table-of-contents__link toc-highlight">Orientation</a></li><li><a href="#example-combinations-of-aspect-ratios-and-orientations" class="table-of-contents__link toc-highlight">Example Combinations of Aspect Ratios and Orientations</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li><li><a href="#implementation-example" class="table-of-contents__link toc-highlight">Implementation Example</a></li></ul></li><li><a href="#stream-type" class="table-of-contents__link toc-highlight">Stream Type</a><ul><li><a href="#implementation-example-1" class="table-of-contents__link toc-highlight">Implementation Example</a></li></ul></li><li><a href="#server-authentication" class="table-of-contents__link toc-highlight">Server Authentication</a><ul><li><a href="#implementation-example-2" class="table-of-contents__link toc-highlight">Implementation Example</a></li></ul></li><li><a href="#local-recording" class="table-of-contents__link toc-highlight">Local Recording</a><ul><li><a href="#description" class="table-of-contents__link toc-highlight">Description</a></li><li><a href="#steps-to-configure-mp4-recording" class="table-of-contents__link toc-highlight">Steps to configure MP4 recording</a></li><li><a href="#setrecordmp4boolean" class="table-of-contents__link toc-highlight">setRecordMp4(boolean)</a></li><li><a href="#setmp4pathstring" class="table-of-contents__link toc-highlight">setMp4Path(String)</a></li><li><a href="#android-permission" class="table-of-contents__link toc-highlight">Android Permission</a></li><li><a href="#implementation-example-3" class="table-of-contents__link toc-highlight">Implementation Example</a></li></ul></li><li><a href="#adaptive-bitrate-streaming" class="table-of-contents__link toc-highlight">Adaptive Bitrate Streaming</a><ul><li><a href="#implementation-example-4" class="table-of-contents__link toc-highlight">Implementation Example</a></li><li><a href="#measuring-the-available-bandwidth" class="table-of-contents__link toc-highlight">Measuring the available bandwidth</a></li><li><a href="#implementation-example-6" class="table-of-contents__link toc-highlight">Implementation Example</a></li></ul></li><li><a href="#camera-zoom" class="table-of-contents__link toc-highlight">Camera Zoom</a><ul><li><a href="#description-1" class="table-of-contents__link toc-highlight">Description</a></li></ul></li><li><a href="#camera-focus" class="table-of-contents__link toc-highlight">Camera Focus</a><ul><li><a href="#description-2" class="table-of-contents__link toc-highlight">Description</a></li><li><a href="#parameter-list" class="table-of-contents__link toc-highlight">Parameter List</a></li><li><a href="#focuscallback-interface" class="table-of-contents__link toc-highlight">FocusCallback interface</a></li><li><a href="#implementation-example-8" class="table-of-contents__link toc-highlight">Implementation Example</a></li></ul></li><li><a href="#deviceproperties" class="table-of-contents__link toc-highlight">DeviceProperties</a><ul><li><a href="#description-3" class="table-of-contents__link toc-highlight">Description</a></li><li><a href="#implementation-example-9" class="table-of-contents__link toc-highlight">Implementation Example</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">nanoStream Cloud</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://dashboard.nanostream.cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dashboard<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://info.nanocosmos.de/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Overview<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://info.nanocosmos.de/interactivelivestreaming/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Use Cases<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.nanocosmos.de/buy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pricing<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://info.nanocosmos.de/free-trial/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Free Trial<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.nanocosmos.de/blog/jobs/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Career<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.nanocosmos.de/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/nanocosmos/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/nanocosmos-gmbh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.instagram.com/nanovideo" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@nanocosmos" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://info.nanocosmos.de/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.nanocosmos.de/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.nanocosmos.de/support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.nanocosmos.de/terms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Imprint<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.nanocosmos.de/" target="_self" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/logo.svg" alt="nanocosmos Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="160"><img src="/img/logo.svg" alt="nanocosmos Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="160"></a></div><div class="footer__copyright">Copyright © 2023. nanocosmos GmbH - Docs Version: Mon, 09 Oct 2023 09:58:14 GMT</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e31461b5.js"></script>
<script src="/assets/js/main.fa4881ec.js"></script>
</body>
</html>